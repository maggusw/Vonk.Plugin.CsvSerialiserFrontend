(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],u=0,v=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(v.length)v.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6cda4d76"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,n[1](c)}a[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0782":function(e,t,n){"use strict";n("d8dd")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"nav"}},[n("div",{staticStyle:{"text-align":"center"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),n("router-view")],1)])},s=[],o=n("2877"),i=n("6544"),l=n.n(i),c=n("7496"),u={},d=Object(o["a"])(u,a,s,!1,null,null,null),v=d.exports;l()(d,{VApp:c["a"]});n("d3b7");var p,f,m,h,b,g,x=n("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("div",{staticClass:"home"},[n("div",{staticClass:"row"},[n("Search",{attrs:{msg:"CSV Serialiser"}})],1)])])},y=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("div",{staticClass:"hello",attrs:{align:"center"}},[n("h1",[e._v(e._s(e.msg))]),n("v-form",[n("v-container",{staticClass:"grey lighten-3 mb-6"},[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Base URL",value:e.baseUrl,disabled:"","single-line":""}})],1),n("v-col",[n("v-text-field",{attrs:{label:"Query",type:"text","single-line":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}})],1),n("v-col",[n("v-text-field",{attrs:{label:"Plugin",value:e.appendUrl,disabled:"","single-line":""}})],1)],1)],1)],1),e.loading?n("v-progress-circular",{attrs:{indeterminate:"",size:"50"}},[e._v(e._s(e.elapsedTime)+"s")]):e._e(),e.errMessage?n("v-alert",{attrs:{dense:"",type:"error"}},[e._v(e._s(e.errMessage))]):e._e(),e.set?n("v-container",{attrs:{fluid:""}},[e._v(" This is a preview of 50 entries. There are "+e._s(e.convertedCsv.objects.length)+" entries in total. "),n("v-card",{staticClass:"m-auto",attrs:{"max-width":"75%","max-height":"70%"}},[n("v-select",{attrs:{items:e.convertedCsv.header,label:"Select columns",multiple:"","return-object":""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,a=t.index;return[0===a?n("v-chip",[n("span",[e._v(e._s(r.text))])]):e._e(),1===a?n("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.value.length-1)+" others)")]):e._e()]}}],null,!1,3990581449),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",height:"300px","items-per-page":50,"disable-pagination":"",headers:e.selectedHeaders,items:e.convertedCsv.objects.slice(0,50)}}),n("v-select",{attrs:{label:"Choose from available delimiters",items:e.delims},model:{value:e.delim,callback:function(t){e.delim=t},expression:"delim"}}),n("v-btn",{on:{click:function(t){return e.generateCsv(e.selectedHeaders,e.convertedCsv,e.delim)}}},[e._v(" Export ")])],1)],1):e._e()],1)])},_=[],C=(n("96cf"),n("1da1")),k=n("bc3a"),O=n.n(k),T=O.a.create({headers:{Accept:"application/json","Content-Type":"application/json"}}),V={getSearchResult:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.get(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},S=V,R=Object(o["a"])(S,p,f,!1,null,null,null),M=R.exports,P=(n("d81d"),n("13d5"),n("fb6a"),n("ac1f"),n("1276"),n("ade3")),E=n("5530"),H=n("4f96"),U={convertCsv:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,o,i,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=e.split("\n"),r=Object(H["a"])(n),a=r[0],s=r.slice(1),o=";",i=a.split(o),l=s.map((function(e){return e.split(o).reduce((function(e,t,n){return Object(E["a"])(Object(E["a"])({},e),{},Object(P["a"])({},i[n],t.slice(1,-1)))}),{})})),c=[],u=0;u<i.length;u+=1)c[u]={text:i[u],value:i[u]};return t.abrupt("return",{header:c,objects:l});case 7:case"end":return t.stop()}}),t)})))()}},D=U,A=Object(o["a"])(D,m,h,!1,null,null,null),$=A.exports,L=(n("4160"),n("a15b"),n("159b"),""),q={convertTableToCsv:function(e,t,n){var r=this,a=e.map((function(e){return e.value}));L=a.join(n),L+="\r\n";for(var s=function(a){e.forEach((function(s,o){void 0!==t[a][s.value]&&(o!==e.length-1?r.addValue(t[a][s.value],n):r.addValue(t[a][s.value],""))}))},o=0;o<t.length;o+=1)s(o);return this.createDownload()},addValue:function(e,t){L+=""===t?"".concat(e,"\r\n"):e+t},createDownload:function(){var e=document.createElement("a");e.href="data:text/csv;charset=utf-8,".concat(encodeURIComponent(L)),e.target="_blank",e.download="data.csv",e.click()}},B=q,F=Object(o["a"])(B,b,g,!1,null,null,null),I=F.exports,J={name:"Search",props:{msg:String},data:function(){return{value:[],delim:"",url:"",response:"",baseUrl:"http://localhost:4080/R4/",appendUrl:"/$csv",convertedCsv:Object,selectedHeaders:[],csv:String,loading:!1,elapsedTime:0,set:!1,delims:[",",";","|"],errMessage:""}},methods:{submit:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==t.errMessage&&(t.errMessage=""),""!==e.target.value){n.next=5;break}t.errMessage="Please specify a query",n.next=23;break;case 5:if(t.url=e.target.value,""===t.response){n.next=9;break}return n.next=9,t.resetData();case 9:return n.next=11,M.getSearchResult(t.baseUrl+t.url+t.appendUrl);case 11:if(t.response=n.sent,!t.response.stack||!t.response.message){n.next=16;break}t.errMessage=t.response.message,n.next=23;break;case 16:return n.next=18,$.convertCsv(t.response);case 18:return t.convertedCsv=n.sent,n.next=21,t.convertedCsv.header;case 21:t.selectedHeaders=n.sent,"undefined"!==typeof t.convertedCsv&&(t.set=!0);case 23:case"end":return n.stop()}}),n)})))()},resetData:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.response="",e.convertedCsv=void 0,e.selectedHeaders=[],e.set=!1,e.elapsedTime=0;case 5:case"end":return t.stop()}}),t)})))()},generateCsv:function(e,t,n){this.csv=I.convertTableToCsv(e,t.objects,n)},setTimer:function(){var e=this;setInterval((function(){e.elapsedTime+=1}),1e3)},getDelims:function(){this.set&&(this.delims=$.checkDelims(this.convertedCsv.objects,this.delims))}},watch:{value:function(e){this.selectedHeaders=e},url:function(){this.loading=!0,this.setTimer()},response:function(){this.loading=!1},delim:function(e){this.delim=e}}},z=J,Q=(n("0782"),n("0798")),G=n("8336"),K=n("b0af"),N=n("cc20"),W=n("62ad"),X=n("a523"),Y=n("8fea"),Z=n("4bd4"),ee=n("f6c4"),te=n("490a"),ne=n("0fd9"),re=n("b974"),ae=n("8654"),se=Object(o["a"])(z,j,_,!1,null,null,null),oe=se.exports;l()(se,{VAlert:Q["a"],VBtn:G["a"],VCard:K["a"],VChip:N["a"],VCol:W["a"],VContainer:X["a"],VDataTable:Y["a"],VForm:Z["a"],VMain:ee["a"],VProgressCircular:te["a"],VRow:ne["a"],VSelect:re["a"],VTextField:ae["a"]});var ie={props:{searchResult:Object},name:"Home",components:{Search:oe},data:function(){return{bla:""}}},le=ie,ce=Object(o["a"])(le,w,y,!1,null,null,null),ue=ce.exports;l()(ce,{VMain:ee["a"]}),r["a"].use(x["a"]);var de=[{path:"/",name:"Home",component:ue},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ve=new x["a"]({routes:de}),pe=ve,fe=n("f309");r["a"].use(fe["a"]);var me=new fe["a"]({});n("bf40");r["a"].config.productionTip=!1,new r["a"]({router:pe,vuetify:me,render:function(e){return e(v)}}).$mount("#app")},d8dd:function(e,t,n){}});
//# sourceMappingURL=app.d08fa6fa.js.map